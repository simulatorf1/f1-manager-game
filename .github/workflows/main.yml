- name: Setup Assets Tool and Icon
        run: |
          # Instalar la herramienta de generación de recursos
          npm install @capacitor/assets --save-dev
          
          # Crear carpeta para el recurso base
          mkdir -p assets
          
          # Descargar tu icono real desde la ruta que me pasaste
          echo "Descargando icono personalizado..."
          wget -q https://raw.githubusercontent.com/simulatorf1/f1-manager-game/main/public/IMG_20260202_194732.png -O assets/logo.png
          
          # Generar todos los iconos de Android automáticamente
          # Esto reemplaza el icono por defecto de Capacitor por el tuyo
          npx capacitor-assets generate --android --icon-source assets/logo.png

      - name: Fix App Name and Sync
        run: |
          # Sincronizar cambios de Capacitor
          npx cap sync android
          
          # Forzar el nombre "Critical Lap" en el archivo de recursos nativo
          sed -i 's/<string name="app_name">.*<\/string>/<string name="app_name">Critical Lap<\/string>/' android/app/src/main/res/values/strings.xml
          sed -i 's/<string name="title_activity_main">.*<\/string>/<string name="title_activity_main">Critical Lap<\/string>/' android/app/src/main/res/values/strings.xml
